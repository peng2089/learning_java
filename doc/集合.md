# 集合
Java的集合类主要由两个接口派生而出：Collection和Map。

## Collection
Collection接口是List、Set和Queue接口的父接口。Collection接口里定义了如下操作集合元素的方法：
1. boolean add(Object o)：该方法用于向集合里添加一个元素。
2. boolean addAll(Collection c)：该方法把集合c里的所有元素添加到指定集合里。
3. void clear()：清除集合里的所有元素，将集合长度变为0。
4. boolean contains(Object o)：返回集合里是否包含指定元素。
5. boolean containsAll(Collection c): 返回集合里是否包含集合c里的所有元素
6. boolean isEmpty()：返回集合是否为空。当集合长度为0时返回true，否则返回false。
7. Iterator iterator()：返回一个Iterator对象，用于遍历集合里的元素。
8. boolean remove(Object o)：删除集合中的指定元素o，当集合中包含一个或多个元素o时，该方法只会删除第一个符合条件的元素，该方法将返回true。
9. boolean removeAll(Collection c)：从集合中删除集合c里包含的多有元素，如果删除一个或一个以上的元素，则该方法返回true。
10. boolean retainAll(Collection c)：从集合中删除集合c里不包含的元素，如果该操作改变了调用该方法的集合，该方法返回true。
11. int size()：该方法返回集合里元素的个数。
12. Object[] toArray()：该方法把集合转换成一个数组，所有的集合元素编程对应的数组元素。

```java
Collection c = new ArrayList();
// 添加元素
c.add("孙悟空");
c.add(6);
c.remove(6);
System.out.println("c集合中是否包含孙悟空：" + c.contains("孙悟空")); // output: ture

Collection books = new HashSet();
books.add("轻量级Java EE企业应用实战");
books.add("疯狂Java讲义");
```

## 遍历集合

### 1. 使用Lambad表达式遍历集合

```java
Collection books = new HashSet();
books.add("轻量级Java EE企业应用实战");
books.add("疯狂Java讲义");
books.add("疯狂Andorid讲义");

books.forEach(obj -> System.out.println("迭代集合元素：" + obj));
```

### 2. 使用Java8增强的Iterator遍历集合元素
> Iterator对象也被成为迭代器。

Iterator接口里定义了如下4个方法：
1. boolean hasNext()：如果被迭代的集合元素还没有被遍历完，则返回true。
2. Object next()：返回集合里的下一个元素。
3. void remove()：删除集合里上一次next方法返回的元素。
4. void forEachRemaining(Consumer action)，这是Java8新增的默认方法，该方法可使用Lambda表达式来遍历集合元素。

```java
Collection books = new HashSet();
books.add("轻量级Java EE企业应用实战");
books.add("疯狂Java讲义");
books.add("疯狂Andorid讲义");

Iterator it = books.iterator();
while(it.hasNext()) {
    String book = (String)it.next();
    System.out.println(book);

    if(book.equals("疯狂Java讲义")) {
        it.remove(); // 从集合中删除上一次next()方法返回的元素
    }

    book = "测试"; // 对book变量赋值，不会改变集合元素本身
}
```

当使用Iterator迭代访问Collection集合元素时，Collection集合里的元素不能被改变，只有通过Iterator的remove方法删除上一次next()方法返回的集合元素才可以；否则将会引发java.util.ConcurrentModificationException异常。


### 3. 使用Lambda表达式遍历Iterator
```java
Iterator it = books.iterator();
it.forEachRemaining(obj -> System.out.println("迭代集合元素："+obj));
```

### 4. 使用foreach循环遍历集合元素

```java
for (Object obj: books) {
    String book = (String)obj;
    System.out.println(book);
}
```
当使用foreach循环迭代访问集合元素时，该集合也不能被改变，否则将引发ConcurrentModificationException异常。

### 5. 使用Java8新增的 Predicate 操作集合
```java
Collection books = new HashSet();
books.add(new String("轻量级Java EE企业应用实战"));
books.add(new String("疯狂Java讲义"));
books.add(new String("疯狂IOS讲义"));
books.add(new String("疯狂Andorid讲义"));
books.add(new String("疯狂Ajax讲义"));

// 批量删除集合中符合条件的元素：所有长度小于10的字符串元素都会被删除。
books.removeIf(ele -> ( (String)ele).length() < 10);

// 使用Predicate可以充分简化集合的运算
// 统计书名中包含“疯狂”子串的图书数量
System.out.println(callAll(books, ele->((String)ele).contains("疯狂")));
// 统计书名字符串长度大于10的图书数量
System.out.println(callAll(books, ele->((String)ele).length() > 10));

public static int callAll(Collection books, Predicate p) {
    int total = 0;
    for (Object obj: books) {
        // 使用Oredicate的test()方法判断该对象是否满足Predicate指定的条件
        if (p.test(obj)) {
            total ++;
        }
    }
    return total;
}
```

### 6. 使用Java8新增的Stream操作集合
